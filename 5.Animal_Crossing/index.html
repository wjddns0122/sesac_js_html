<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crossing Friends</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body class="shadows-on">
    <div class="game-stage">
        <canvas id="gameCanvas" width="960" height="900" role="img" aria-label="Crossing Friends action field"></canvas>
        <div id="fireworksLayer" aria-hidden="true"></div>

        <div class="hud-panel">
            <div class="logo">
                <span class="voxel-mark"></span>
                <strong data-i18n="title">Crossing Friends</strong>
            </div>
            <div class="hud-stats">
                <div class="stat" data-i18n-label="score">
                    <span class="label">Score</span>
                    <span class="value" id="scoreValue">0</span>
                </div>
                <div class="stat" data-i18n-label="best">
                    <span class="label">Best</span>
                    <span class="value" id="bestValue">0</span>
                </div>
                <div class="stat coins">
                    <span class="label" data-i18n="coins">Coins</span>
                    <span class="value" id="coinValue">0</span>
                </div>
                <div class="stat selected-char">
                    <span class="label" data-i18n="character">Character</span>
                    <span class="value" id="selectedCharacter">-</span>
                </div>
            </div>
        </div>

        <button class="pause-button" id="pauseToggle" data-i18n="pause">Pause</button>

        <div id="idleWarning" class="warning-pill hidden" data-i18n="idleWarning">
            Keep moving! An eagle is watching...
        </div>

        <div class="helper-banner">
            <p class="helper-text" data-i18n="helper">Move in four directions, gather coins, avoid danger, and unlock voxel friends.</p>
            <div class="helper-actions">
                <button class="ghost small" id="openCharactersFooter" data-i18n="characterSelect">Character Select</button>
                <button class="ghost small" id="openSettingsFooter" data-i18n="settings">Settings</button>
            </div>
        </div>

        <section id="startScreen" class="overlay visible" tabindex="-1">
            <div class="overlay-content">
                <p class="badge" data-i18n="voxelBadge">Voxel Animal Adventure</p>
                <h1 data-i18n="title">Crossing Friends</h1>
                <p data-i18n="tagline" class="tagline">
                    Lead your friends through endless forests, roads and ponds.
                </p>
                <div class="start-meta">
                    <div>
                        <span data-i18n="best">Best</span>
                        <strong id="startBest">0</strong>
                    </div>
                    <div>
                        <span data-i18n="coins">Coins</span>
                        <strong id="startCoins">0</strong>
                    </div>
                </div>
                <div class="start-buttons">
                    <button class="ghost" id="openCharacters" data-i18n="characterSelect">Character Select</button>
                    <button class="ghost" id="openSettings" data-i18n="settings">Settings</button>
                </div>
                <p class="tap-hint" data-i18n="tapToStart">Tap anywhere to start</p>
                <p class="tap-hint" data-i18n="pressKey">Press any key to start</p>
            </div>
        </section>

        <section id="deathScreen" class="overlay hidden" tabindex="-1">
            <div class="overlay-content">
                <h2 data-i18n="gameOver">Game Over</h2>
                <p id="deathReason"></p>
                <p class="score-callout">
                    <span data-i18n="score">Score</span>
                    <strong id="finalScore">0</strong>
                </p>
                <button id="restartButton" class="primary" data-i18n="playAgain">Play Again</button>
            </div>
        </section>

        <section id="pauseOverlay" class="overlay hidden" tabindex="-1">
            <div class="overlay-content">
                <h2 data-i18n="pausedTitle">Paused</h2>
                <div class="settings-group pause-settings">
                    <label>
                        <span data-i18n="language">Language</span>
                        <select id="pauseLanguageSelect">
                            <option value="ko">한국어</option>
                            <option value="en">English</option>
                        </select>
                    </label>
                    <label class="switch">
                        <input type="checkbox" id="pauseAudioToggle" checked>
                        <span class="slider"></span>
                        <span class="switch-label" data-i18n="audio">Audio</span>
                    </label>
                    <label class="switch">
                        <input type="checkbox" id="pauseShadowToggle" checked>
                        <span class="slider"></span>
                        <span class="switch-label" data-i18n="shadows">Shadow Effects</span>
                    </label>
                </div>
                <div class="start-buttons pause-actions">
                    <button id="resumeButton" class="primary" data-i18n="resume">Resume</button>
                    <button id="resetRunButton" class="ghost" data-i18n="resetRun">Reset Run</button>
                </div>
            </div>
        </section>

        <section id="touchPad" aria-hidden="true">
            <button data-direction="up">▲</button>
            <div class="middle-row">
                <button data-direction="left">◀</button>
                <button data-direction="down">▼</button>
                <button data-direction="right">▶</button>
            </div>
        </section>
    </div>

    <section id="characterModal" class="modal hidden" aria-hidden="true" role="dialog" aria-labelledby="characterTitle">
        <div class="modal-card">
            <header>
                <h3 id="characterTitle" data-i18n="characterGallery">Character Gallery</h3>
                <button class="close" data-close>&times;</button>
            </header>
            <div id="characterList" class="card-grid"></div>
        </div>
    </section>

    <section id="settingsModal" class="modal hidden" aria-hidden="true" role="dialog" aria-labelledby="settingsTitle">
        <div class="modal-card">
            <header>
                <h3 id="settingsTitle" data-i18n="settingsPanel">Settings</h3>
                <button class="close" data-close>&times;</button>
            </header>
            <div class="settings-group">
                <label>
                    <span data-i18n="language">Language</span>
                    <select id="languageSelect">
                        <option value="ko">한국어</option>
                        <option value="en">English</option>
                    </select>
                </label>
                <label class="switch">
                    <input type="checkbox" id="audioToggle" checked>
                    <span class="slider"></span>
                    <span class="switch-label" data-i18n="audio">Audio</span>
                </label>
                <label class="switch">
                    <input type="checkbox" id="shadowToggle" checked>
                    <span class="slider"></span>
                    <span class="switch-label" data-i18n="shadows">Shadow Effects</span>
                </label>
            </div>
        </div>
    </section>

    <script src="game.js" defer></script>
</body>
</html>
