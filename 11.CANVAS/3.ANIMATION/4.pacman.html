<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
        <style>
            body {
                background-color: black;
            }
            canvas {
                border: 1px solid white;
            }
        </style>
    </head>
    <body>
        <canvas id="pacman" width="600" height="400"></canvas>

        <script>
            const canvas = document.getElementById("pacman");
            const context = canvas.getContext("2d");

            let startAngle = 0.2 * Math.PI;
            let endAngle = 1.8 * Math.PI;
            let mouthOpen = 1; // 1 = open, -1 = close
            let mouthSpeed = 0.05;

            function drawPacman() {
                context.clearRect(0, 0, canvas.width, canvas.height);

                context.beginPath();
                context.moveTo(350, 200);
                context.arc(350, 200, 30, startAngle, endAngle);
                context.fillStyle = "yellow"; // 팩맨 트레이드마크 노랭이
                context.fill();
                context.closePath();
            }

            function updateMouth() {
                if (
                    startAngle <= 0.05 * Math.PI ||
                    startAngle >= 0.25 * Math.PI
                ) {
                    // mouthOpen = -mouthOpen;
                    mouthOpen *= -1; // 위에꺼나 이거나...
                }

                startAngle += mouthSpeed * mouthOpen;
                endAngle -= mouthSpeed * mouthOpen;
            }

            function animatePacman() {
                drawPacman();
                updateMouth();

                requestAnimationFrame(animatePacman);
            }

            animatePacman();
        </script>
    </body>
</html>
